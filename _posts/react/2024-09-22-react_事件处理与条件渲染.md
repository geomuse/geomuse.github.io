---
layout: post
title:  react 事件处理与条件渲染
date:   2024-09-22 11:24:29 +0800
categories:
    - react
---

在 React 中，事件处理和条件渲染是常见的操作。下面的代码示例展示了如何处理事件（如按钮点击）以及使用条件渲染来控制 UI 显示和隐藏。

### 1. 处理事件
React 事件处理类似于标准 DOM 事件处理，事件绑定方式为 JSX 语法，使用驼峰命名法。

```jsx
import React, { useState } from 'react';

function App() {
  // 创建一个状态，用于控制内容的显示或隐藏
  const [isVisible, setIsVisible] = useState(false);

  // 点击按钮时触发的事件处理函数
  const handleClick = () => {
    setIsVisible(!isVisible); // 切换显示状态
  };

  return (
    <div>
      {/* 按钮点击事件 */}
      <button onClick={handleClick}>
        {isVisible ? '隐藏内容' : '显示内容'}
      </button>

      {/* 条件渲染：根据 isVisible 的值决定是否显示内容 */}
      {isVisible && <p>这是一个可以显示或隐藏的内容。</p>}
    </div>
  );
}

export default App;
```

### 2. 事件处理和表单提交
表单事件处理需要防止默认行为（如提交后页面刷新），通过 `event.preventDefault()` 实现。

```jsx
import React, { useState } from 'react';

function FormComponent() {
  const [inputValue, setInputValue] = useState('');
  const [submittedValue, setSubmittedValue] = useState('');

  // 处理表单提交
  const handleSubmit = (event) => {
    event.preventDefault(); // 防止页面刷新
    setSubmittedValue(inputValue); // 更新提交的值
  };

  // 处理输入框变化
  const handleInputChange = (event) => {
    setInputValue(event.target.value);
  };

  return (
    <div>
      <form onSubmit={handleSubmit}>
        <input 
          type="text" 
          value={inputValue} 
          onChange={handleInputChange} 
          placeholder="输入一些文字" 
        />
        <button type="submit">提交</button>
      </form>

      {/* 条件渲染：根据提交结果显示 */}
      {submittedValue && <p>您提交的内容是: {submittedValue}</p>}
    </div>
  );
}

export default FormComponent;
```

### 3. 使用三元运算符进行条件渲染
三元运算符可以简洁地实现条件渲染。

```jsx
import React, { useState } from 'react';

function ToggleComponent() {
  const [isToggled, setIsToggled] = useState(false);

  return (
    <div>
      <button onClick={() => setIsToggled(!isToggled)}>
        {isToggled ? '关闭' : '打开'}
      </button>

      {/* 使用三元运算符进行条件渲染 */}
      {isToggled ? <p>内容已经打开。</p> : <p>内容已经关闭。</p>}
    </div>
  );
}

export default ToggleComponent;
```

### 总结
- **事件处理**：通过 JSX 绑定事件处理函数，处理用户输入、点击等交互。
- **条件渲染**：使用三元运算符或逻辑操作符，如 `&&`，实现动态显示和隐藏内容。

你可以根据这个示例添加更多的交互功能和条件渲染逻辑。